@model CitaFacil.ViewModels.PromoteToDoctorViewModel

@{
    Layout = "_AdminLayout";
    ViewData["Title"] = "Promover a Doctor";
}

<div class="flex flex-col gap-6 px-4 py-3">
    <div class="flex items-center gap-4">
        <a asp-action="Usuarios" class="flex items-center justify-center w-10 h-10 rounded-lg bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700">
            <span class="material-icons">arrow_back</span>
        </a>
        <div>
            <h1 class="text-2xl font-bold">Promover a Doctor</h1>
            <p class="text-zinc-600 dark:text-zinc-400">Usuario: @Model.usuario_nombre (@Model.usuario_correo)</p>
        </div>
    </div>

    <form asp-action="PromoteToDoctor" method="post" enctype="multipart/form-data" class="max-w-4xl">
        @Html.AntiForgeryToken()
        <input asp-for="usuario_id" type="hidden" />
        <input asp-for="usuario_nombre" type="hidden" />
        <input asp-for="usuario_correo" type="hidden" />

        <div asp-validation-summary="ModelOnly" class="text-red-600 bg-red-50 p-4 rounded-lg mb-6"></div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Información Personal -->
            <div class="space-y-4">
                <h3 class="text-lg font-semibold border-b pb-2">Información Personal</h3>
                
                <div>
                    <label asp-for="nombre" class="block text-sm font-medium mb-2">Nombre(s)</label>
                    <input asp-for="nombre" class="w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                    <span asp-validation-for="nombre" class="text-red-600 text-sm"></span>
                </div>

                <div>
                    <label asp-for="apellido" class="block text-sm font-medium mb-2">Apellido Paterno</label>
                    <input asp-for="apellido" class="w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                    <span asp-validation-for="apellido" class="text-red-600 text-sm"></span>
                </div>

                <div>
                    <label asp-for="segundo_apellido" class="block text-sm font-medium mb-2">Apellido Materno</label>
                    <input asp-for="segundo_apellido" class="w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                    <span asp-validation-for="segundo_apellido" class="text-red-600 text-sm"></span>
                </div>

            </div>

            <!-- Información Profesional -->
            <div class="space-y-4">
                <h3 class="text-lg font-semibold border-b pb-2">Información Profesional</h3>

                <div>
                    <label asp-for="licencia" class="block text-sm font-medium mb-2">Licencia Profesional</label>
                    <input asp-for="licencia" class="w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                    <span asp-validation-for="licencia" class="text-red-600 text-sm"></span>
                </div>

                <div>
                    <label asp-for="especialidad_id" class="block text-sm font-medium mb-2">Especialidad</label>
                    <select asp-for="especialidad_id" class="w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">Seleccionar especialidad</option>
                        @if (ViewBag.Especialidades is List<CitaFacil.Models.Especialidad> especialidades)
                        {
                            @foreach (var especialidad in especialidades)
                            {
                                <option value="@especialidad.id">@especialidad.nombre</option>
                            }
                        }
                    </select>
                    <span asp-validation-for="especialidad_id" class="text-red-600 text-sm"></span>
                </div>

                <div>
                    <label asp-for="consultorio" class="block text-sm font-medium mb-2">Consultorio</label>
                    <input asp-for="consultorio" class="w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                    <span asp-validation-for="consultorio" class="text-red-600 text-sm"></span>
                </div>

                <div>
                    <label asp-for="foto" class="block text-sm font-medium mb-2">Foto del Doctor</label>
                    <input asp-for="foto" type="file" accept="image/*" class="w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" />
                    <span asp-validation-for="foto" class="text-red-600 text-sm"></span>
                    <p class="text-sm text-zinc-500 mt-1">Formatos permitidos: JPG, PNG. Tamaño máximo: 2MB</p>
                </div>
            </div>
        </div>

        <!-- Biografía -->
        <div class="mt-6">
            <label asp-for="biografia" class="block text-sm font-medium mb-2">Biografía</label>
            <textarea asp-for="biografia" rows="4" class="w-full px-3 py-2 border border-zinc-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Descripción profesional del doctor..."></textarea>
            <span asp-validation-for="biografia" class="text-red-600 text-sm"></span>
        </div>

        <!-- Botones -->
        <div class="flex gap-4 mt-8">
            <button type="submit" class="px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500">
                Promover a Doctor
            </button>
            <a asp-action="Usuarios" class="px-6 py-3 bg-zinc-200 text-zinc-700 rounded-lg font-medium hover:bg-zinc-300">
                Cancelar
            </a>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}